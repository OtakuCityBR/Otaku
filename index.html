<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Otaku City | Placas Decorativas Anime - Qualidade Implacável</title>
    <style>
        /* Reset e Fontes */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;900&display=swap');
        
        /* Cores Temáticas */
        :root {
            --primary: #FF2D54; /* Rosa Neon */
            --secondary: #00B8FF; /* Azul Akihabara */
            --dark: #0F0F1B; /* Fundo Noturno */
            --light: #FFFFFF;
            --accent: #FFD700; /* Dourado Destaque */
        }
        
        /* Smooth scroll para navegação interna */
        html {
            scroll-behavior: smooth;
        }
        
        body {
            background-color: var(--dark);
            color: var(--light);
            overflow-x: hidden;
        }
        
        /* Header Impactante - LOGO E BOTÃO MAXIMIZADOS */
        header {
            padding: 8px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(15, 15, 27, 0.9);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid var(--primary);
            min-height: 80px;
            gap: 25px; /* Espaçamento máximo de 25px entre logo e botão */
        }
        
        /* Logo - MAXIMIZADO */
        .logo {
            display: flex;
            align-items: center;
            flex: 1;
            min-width: 0; /* Permite que a logo encolha se necessário */
        }
        
        .logo img {
            height: 70px;
            width: auto;
            max-height: 75px;
            max-width: 350px;
            object-fit: contain;
            filter: brightness(1.1);
            transition: transform 0.3s ease;
        }
        
        .logo img:hover {
            transform: scale(1.05);
        }
        
        /* Fallback caso a logo não carregue */
        .logo-text {
            font-weight: 900;
            font-size: 2.8rem;
            color: var(--light);
            display: none;
        }
        
        .logo-text span {
            color: var(--primary);
        }
        
        /* Botão do header MAXIMIZADO */
        .header-cta {
            flex-shrink: 0;
        }
        
        .cta-button {
            padding: 12px 28px;
            font-size: 1.1rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            text-decoration: none;
            border-radius: 30px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 45, 84, 0.3);
            white-space: nowrap;
        }
        
        .cta-button:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 6px 20px rgba(255, 45, 84, 0.4);
        }
        
        /* Hero Section */
        .hero {
            text-align: center;
            padding: 30px 15px 50px;
            background: radial-gradient(circle at top, #2A0C4E 0%, var(--dark) 70%);
        }
        
        h1 {
            font-size: 2.3rem;
            margin-bottom: 15px;
            line-height: 1.3;
        }
        
        .highlight {
            color: var(--accent);
            font-weight: 700;
        }
        
        /* PRICE-TAG COMO BOTÃO CTA - mantém aparência exata */
        .price-tag {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            padding: 8px 20px;
            border-radius: 30px;
            display: inline-block;
            margin: 20px 0;
            font-weight: 700;
            font-size: 1.5rem;
            box-shadow: 0 5px 15px rgba(255, 45, 84, 0.4);
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }
        
        .price-tag:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 8px 25px rgba(255, 45, 84, 0.5);
            color: white;
        }
        
        .price-tag:active {
            transform: translateY(0) scale(1.02);
        }
        
        .price-tag:visited {
            color: white;
        }
        
        .price-small {
            font-size: 0.8rem;
            opacity: 0.9;
        }
        
        /* VÍDEOS CORRIGIDOS - Formato RETRATO com 15px laterais */
        .video-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 30px 25px;
            max-width: calc(100vw - 30px);
        }
        
        .video-container {
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 177.78%; /* Aspect ratio 9:16 (retrato) = 16/9 = 1.778 */
        }
        
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .video-label {
            position: absolute;
            bottom: 8px;
            left: 8px;
            background: rgba(0, 0, 0, 0.8);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: 600;
            z-index: 10;
        }
        
        /* CARROSSEL ROBUSTO - 2 imagens lado a lado em proporção A4 */
        .carousel-section {
            padding: 40px 15px;
            background: linear-gradient(135deg, #1A0A2E 0%, var(--dark) 100%);
            margin-bottom: 30px;
        }
        
        .carousel-title {
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.8rem;
            color: var(--accent);
        }
        
        .carousel-container {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .carousel-wrapper {
            position: relative;
            overflow: hidden;
        }
        
        .carousel-track {
            display: flex;
            transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            width: 600%; /* 6 slides × 100% cada */
            will-change: transform;
        }
        
        .carousel-slide {
            width: 16.666%; /* 100% / 6 slides = 16.666% */
            display: flex;
            gap: 10px;
            padding: 0 5px;
            flex-shrink: 0;
        }
        
        .carousel-item {
            flex: 1;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .carousel-item:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 12px 25px rgba(255, 45, 84, 0.3);
        }
        
        .carousel-item a {
            display: block;
            text-decoration: none;
        }
        
        .carousel-item img {
            width: 100%;
            aspect-ratio: 1 / 1.414; /* Proporção A4 REAL */
            object-fit: cover;
            object-position: center;
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: border-color 0.3s ease;
        }
        
        .carousel-item img:hover {
            border-color: var(--primary);
        }
        
        /* Controles de navegação */
        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none;
        }
        
        .carousel-nav:hover {
            background: var(--primary);
            transform: translateY(-50%) scale(1.1);
        }
        
        .carousel-nav:active {
            transform: translateY(-50%) scale(0.95);
        }
        
        .carousel-nav.prev {
            left: 15px;
        }
        
        .carousel-nav.next {
            right: 15px;
        }
        
        /* Indicadores do carrossel */
        .carousel-indicators {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 20px;
        }
        
        .carousel-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .carousel-indicator.active {
            background: var(--primary);
            transform: scale(1.2);
        }
        
        /* Seção de Produtos */
        .products {
            padding: 0 15px 30px;
            background: url('https://example.com/anime-pattern.png') var(--dark);
        }
        
        .product-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
        }
        
        .product-title {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.3rem;
        }
        
        .product-price {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 10px 0;
        }
        
        .bulk-discount {
            color: var(--accent);
            font-size: 0.9rem;
            margin-bottom: 15px;
            display: block;
        }
        
        /* Catálogo */
        .catalog-cta {
            text-align: center;
            padding: 20px 15px;
            background: linear-gradient(90deg, var(--dark) 0%, #1A0A2E 100%);
        }
        
        /* Footer */
        footer {
            text-align: center;
            padding: 30px 15px;
            background: #0A0A15;
        }
        
        .whatsapp-button {
            background: #25D366;
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            font-weight: 700;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.4);
        }
        
        /* Responsividade MOBILE-FIRST */
        @media (max-width: 768px) {
            header {
                padding: 6px 12px;
                min-height: 70px;
                gap: 20px;
            }
            
            .logo img {
                height: 60px;
                max-height: 65px;
                max-width: 280px;
            }
            
            .logo-text {
                font-size: 2.2rem;
            }
            
            .cta-button {
                padding: 10px 22px;
                font-size: 1rem;
            }
            
            .hero {
                padding: 20px 10px 40px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .video-grid {
                margin: 20px 25px;
                gap: 8px;
            }
            
            .video-label {
                font-size: 0.6rem;
                padding: 3px 6px;
            }
            
            .carousel-section {
                padding: 30px 15px;
            }
            
            .carousel-nav {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }
        }
        
        @media (max-width: 480px) {
            header {
                padding: 5px 10px;
                min-height: 65px;
                gap: 15px;
            }
            
            .logo img {
                height: 55px;
                max-height: 60px;
                max-width: 220px;
            }
            
            .logo-text {
                font-size: 1.8rem;
            }
            
            .cta-button {
                padding: 8px 18px;
                font-size: 0.9rem;
            }
            
            .hero {
                padding: 15px 8px 30px;
            }
            
            h1 {
                font-size: 1.6rem;
            }
            
            .video-grid {
                grid-template-columns: 1fr;
                margin: 25px 25px;
                gap: 6px;
            }
            
            .carousel-section {
                padding: 25px 15px;
            }
            
            /* Mobile - 1 slide por vez (mas ainda com 2 imagens lado a lado) */
            .carousel-slide {
                gap: 8px;
            }
            
            .carousel-nav {
                width: 35px;
                height: 35px;
                font-size: 1rem;
            }
            
            .carousel-nav.prev {
                left: 10px;
            }
            
            .carousel-nav.next {
                right: 10px;
            }
        }
        
        @media (max-width: 360px) {
            header {
                gap: 10px;
            }
            
            .logo img {
                height: 50px;
                max-height: 55px;
                max-width: 180px;
            }
            
            .cta-button {
                padding: 6px 14px;
                font-size: 0.8rem;
            }
        }
        
        /* Otimizações de performance */
        .carousel-item img {
            will-change: transform;
        }
        
        /* Preload crítico */
        .hero, .carousel-section {
            contain: layout style paint;
        }
    </style>
</head>
<body>
    <!-- Header com Logo Maximizado -->
    <header>
        <div class="logo">
            <img src="https://i.ibb.co/5fx7ydb/OC.png" alt="Otaku City Logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <div class="logo-text">OTAKU <span>CITY</span></div>
        </div>
        <div class="header-cta">
            <a href="https://otakucitybr.github.io/catalogo/" class="cta-button">VER CATÁLOGO</a>
        </div>
    </header>
    
    <!-- Hero Section -->
    <section class="hero">
        <h1>PLACAS DECORATIVAS<br><span class="highlight">QUALIDADE IMPLACÁVEL</span><br>PELO MENOR PREÇO DO MERCADO!</h1>
        
        <!-- PRICE-TAG AGORA É BOTÃO CTA -->
        <a href="#products" class="price-tag" onclick="scrollToProducts(event)">
            A PARTIR DE <span style="font-size: 2rem;">R$10</span>
            <div class="price-small">(Por Tempo Limitado)</div>
        </a>
        
         <!-- Grid de Vídeos - FORMATO RETRATO -->
        <div class="video-grid">
            <div class="video-container">
                <iframe src="https://player.vimeo.com/video/1097998940?badge=0&autopause=0&player_id=0&app_id=58479&autoplay=1&loop=1&muted=1&background=1&controls=0" loading="lazy" allow="autoplay; fullscreen"></iframe>
                <div class="video-label">📍 Banca na Praça da Liberdade</div>
            </div>
            
            <div class="video-container">
                <iframe src="https://player.vimeo.com/video/1097998959?badge=0&autopause=0&player_id=0&app_id=58479&autoplay=1&loop=1&muted=1&background=1&controls=0" loading="lazy" allow="autoplay; fullscreen"></iframe>
                <div class="video-label">🖼️ Detalhe da Qualidade Gráfica</div>
            </div>
        </div>
        
        <p style="max-width: 600px; margin: 0 auto;">Compare e comprove: <strong>nenhuma placa do mercado tem cores tão vivas e definição tão nítida</strong> quanto as da Otaku City!</p>
    </section>
    
    <!-- CARROSSEL ROBUSTO - 2 imagens lado a lado em proporção A4 -->
    <section class="carousel-section">
        <h2 class="carousel-title">🎨 NOSSOS DESIGNS EXCLUSIVOS</h2>
        <div class="carousel-container">
            <div class="carousel-wrapper">
                <div class="carousel-track" id="carouselTrack">
                    <!-- SLIDE 1 - 2 imagens lado a lado -->
                    <div class="carousel-slide">
                        <div class="carousel-item">
                            <a href="https://otakucitybr.github.io/Naruto/" target="_blank">
                                <img src="https://i.ibb.co/1GSVPdc1/N-52.jpg" alt="Naruto Design" loading="lazy">
                            </a>
                        </div>
                        <div class="carousel-item">
                            <a href="https://otakucitybr.github.io/One_Piece/" target="_blank">
                                <img src="https://i.ibb.co/S7Mt7QYb/OP-4.jpg" alt="One Piece Design" loading="lazy">
                            </a>
                        </div>
                    </div>
                    
                    <!-- SLIDE 2 - 2 imagens lado a lado -->
                    <div class="carousel-slide">
                        <div class="carousel-item">
                            <a href="https://otakucitybr.github.io/Solo/" target="_blank">
                                <img src="https://i.ibb.co/tMcDwhdd/2.jpg" alt="Solo Leveling Design" loading="lazy">
                            </a>
                        </div>
                        <div class="carousel-item">
                            <a href="https://otakucitybr.github.io/Vagabond/" target="_blank">
                                <img src="https://i.ibb.co/zTZnQmTk/1.jpg" alt="Dragon Ball Design" loading="lazy">
                            </a>
                        </div>
                    </div>
                    
                    <!-- SLIDE 3 - 2 imagens lado a lado -->
                    <div class="carousel-slide">
                        <div class="carousel-item">
                            <a href="https://otakucitybr.github.io/Diarios-de-uma-Apotecaria/" target="_blank">
                                <img src="https://i.ibb.co/274zB8XF/dua-4.jpg" alt="Attack on Titan Design" loading="lazy">
                            </a>
                        </div>
                        <div class="carousel-item">
                            <a href="https://otakucitybr.github.io/Frieren/" target="_blank">
                                <img src="https://i.ibb.co/VpwGJCNd/f-2.jpg" alt="Demon Slayer Design" loading="lazy">
                            </a>
                        </div>
                    </div>
                    
                    <!-- SLIDE 4 - 2 imagens lado a lado -->
                    <div class="carousel-slide">
                        <div class="carousel-item">
                            <a href="https://otakucitybr.github.io/kny/" target="_blank">
                                <img src="https://i.ibb.co/M5RK3ZFD/3.jpg" alt="My Hero Academia Design" loading="lazy">
                            </a>
                        </div>
                        <div class="carousel-item">
                            <a href="https://otakucitybr.github.io/Ghibli/" target="_blank">
                                <img src="https://i.ibb.co/zWd9M6hH/Gui-23.jpg" alt="Jujutsu Kaisen Design" loading="lazy">
                            </a>
                        </div>
                    </div>
                    
                    <!-- SLIDE 5 - 2 imagens lado a lado -->
                    <div class="carousel-slide">
                        <div class="carousel-item">
                            <a href="https://otakucitybr.github.io/berserk/" target="_blank">
                                <img src="https://i.ibb.co/6JDrWKHV/03.jpg" alt="Tokyo Ghoul Design" loading="lazy">
                            </a>
                        </div>
                        <div class="carousel-item">
                            <a href="https://otakucitybr.github.io/Death-Note/" target="_blank">
                                <img src="https://i.ibb.co/VYk2YbSz/DN-1.jpg" alt="Death Note Design" loading="lazy">
                            </a>
                        </div>
                    </div>
                    
                    <!-- SLIDE 6 - 2 imagens lado a lado -->
                    <div class="carousel-slide">
                        <div class="carousel-item">
                            <a href="https://otakucitybr.github.io/HelloKitty/" target="_blank">
                                <img src="https://i.ibb.co/5gv28t2W/HK-15.jpg" alt="Fullmetal Alchemist Design" loading="lazy">
                            </a>
                        </div>
                        <div class="carousel-item">
                            <a href="https://otakucitybr.github.io/ar/" target="_blank">
                                <img src="https://i.ibb.co/LXn3WLdg/01.jpg" alt="Evangelion Design" loading="lazy">
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Controles de navegação -->
            <button class="carousel-nav prev" id="prevBtn" aria-label="Slide anterior">‹</button>
            <button class="carousel-nav next" id="nextBtn" aria-label="Próximo slide">›</button>
        </div>
        
        <!-- Indicadores do carrossel -->
        <div class="carousel-indicators" id="carouselIndicators"></div>
    </section>
    
    <!-- Seção de Produtos -->
    <section class="products" id="products">
     
        <div class="product-card">
            <h3 class="product-title">🔥 PLACA MÉDIA (20x30cm) - MAIS VENDIDA</h3>
            <div class="product-price">R$ 12,00</div>
            <span class="bulk-discount">💰 Desconto progressivo: 5+ placas = R$ 10,00 cada</span>
            <a href="#" class="cta-button">COMPRAR AGORA</a>
        </div>
        
        <div class="product-card">
            <h3 class="product-title">⭐ PLACA GRANDE (30x40cm) - PREMIUM</h3>
            <div class="product-price">R$ 25,00</div>
            <span class="bulk-discount">💰 Desconto progressivo: 3+ placas = R$ 20,00 cada</span>
            <a href="#" class="cta-button">COMPRAR AGORA</a>
        </div>
		
		<div class="product-card">
            <h3 class="product-title">🎯 PhotoCards (em breve)</h3>
            <div class="product-price">R$ 8,00</div>
            <span class="bulk-discount">💰 Desconto progressivo: 10+ pc's = R$ 5,00 cada</span>
            <a href="https://wa.me/5511958588616?text=Olá! Gostaria saber mais sobre a reserva de PhotoCards" class="cta-button">RESERVE O SEU</a>
        </div>
    </section>
    
    <!-- Call to Action do Catálogo -->
    <section class="catalog-cta">
        <h2>📚 EXPLORE NOSSO CATÁLOGO COMPLETO</h2>
        <p>Mais de 1500 imagens exclusivas organizados por anime!</p>
        <a href="https://otakucitybr.github.io/catalogo/" class="whatsapp-button">
            📖 VER CATÁLOGO COMPLETO
        </a>
    </section>
    
    <!-- Footer -->
<footer>
    <h3>💬 FAÇA SUA IMAGEM AGORA!</h3>
    <p>Fazemos qualquer imgem até fotos pessoais</p>
    <a href="https://wa.me/5511958588616?text=Olá! Gostaria saber mais sobre imagens por encomenda!" class="whatsapp-button">
        📱 CHAMAR NO WHATSAPP
    </a>   
      
    <!-- Logo OCT entre a linha e o botão (agora posicionada corretamente) -->
    <div style="width: 100%; padding: 20px 15px; text-align: center;">
        <img src="https://i.ibb.co/y3wvPbx/OCT.png" alt="Otaku City Logo" style="max-width: 80%; height: auto; display: block; margin: 0 auto;">
    </div>
      <!-- Linha horizontal (adicionei uma div separada para controle) -->
    <div style="border-top: 1px solid rgba(255,255,255,0.5); width: 100%; margin: 20px 5px 0;"></div>
    
    <!-- Texto de copyright (sem borda, pois já adicionei a linha acima) -->
    <p class="copyright" style="margin-top: 10; opacity: 0.7; padding-top: 5;">© 2025 Otaku City - Qualidade Implacável</p>
</footer>
    
    <script>
        // Função para scroll suave até os produtos
        function scrollToProducts(event) {
            event.preventDefault();
            const productsSection = document.getElementById('products');
            if (productsSection) {
                productsSection.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }
        
        // CARROSSEL ROBUSTO - Sistema completamente reescrito
        class RobustCarousel {
            constructor() {
                this.track = document.getElementById('carouselTrack');
                this.prevBtn = document.getElementById('prevBtn');
                this.nextBtn = document.getElementById('nextBtn');
                this.indicatorsContainer = document.getElementById('carouselIndicators');
                
                this.currentSlide = 0;
                this.totalSlides = 6;
                this.autoPlayInterval = null;
                this.autoPlayDelay = 4000; // 4 segundos por slide
                this.isUserInteracting = false;
                this.isTransitioning = false;
                this.userInteractionTimeout = null;
                
                // Estados de controle
                this.isPaused = false;
                this.isVisible = true;
                
                this.init();
            }
            
            init() {
                if (!this.track || !this.prevBtn || !this.nextBtn) {
                    console.warn('Carrossel: Elementos não encontrados');
                    return;
                }
                
                this.createIndicators();
                this.bindEvents();
                this.updateIndicators();
                this.startAutoPlay();
                this.setupVisibilityAPI();
            }
            
            createIndicators() {
                for (let i = 0; i < this.totalSlides; i++) {
                    const indicator = document.createElement('div');
                    indicator.className = 'carousel-indicator';
                    indicator.addEventListener('click', () => this.goToSlide(i, true));
                    this.indicatorsContainer.appendChild(indicator);
                }
            }
            
            bindEvents() {
                // Navegação por botões
                this.prevBtn.addEventListener('click', () => this.previousSlide());
                this.nextBtn.addEventListener('click', () => this.nextSlide());
                
                // Touch events para mobile
                this.setupTouchEvents();
                
                // Pause no hover (apenas desktop)
                if (!this.isMobile()) {
                    this.track.parentElement.addEventListener('mouseenter', () => this.pauseAutoPlay());
                    this.track.parentElement.addEventListener('mouseleave', () => this.resumeAutoPlay());
                }
                
                // Keyboard navigation
                document.addEventListener('keydown', (e) => {
                    if (this.isInViewport()) {
                        if (e.key === 'ArrowLeft') this.previousSlide();
                        if (e.key === 'ArrowRight') this.nextSlide();
                    }
                });
            }
            
            setupTouchEvents() {
                let startX = 0;
                let startY = 0;
                let isDragging = false;
                let hasMoved = false;
                
                this.track.addEventListener('touchstart', (e) => {
                    startX = e.touches[0].clientX;
                    startY = e.touches[0].clientY;
                    isDragging = true;
                    hasMoved = false;
                    this.handleUserInteraction();
                }, { passive: true });
                
                this.track.addEventListener('touchmove', (e) => {
                    if (!isDragging) return;
                    
                    const currentX = e.touches[0].clientX;
                    const currentY = e.touches[0].clientY;
                    const diffX = Math.abs(currentX - startX);
                    const diffY = Math.abs(currentY - startY);
                    
                    // Se o movimento horizontal é maior que o vertical, previne scroll
                    if (diffX > diffY && diffX > 10) {
                        e.preventDefault();
                        hasMoved = true;
                    }
                }, { passive: false });
                
                this.track.addEventListener('touchend', (e) => {
                    if (!isDragging || !hasMoved) return;
                    
                    const endX = e.changedTouches[0].clientX;
                    const diffX = startX - endX;
                    const threshold = 50;
                    
                    if (Math.abs(diffX) > threshold) {
                        if (diffX > 0) {
                            this.nextSlide();
                        } else {
                            this.previousSlide();
                        }
                    }
                    
                    isDragging = false;
                    hasMoved = false;
                }, { passive: true });
            }
            
            setupVisibilityAPI() {
                document.addEventListener('visibilitychange', () => {
                    this.isVisible = !document.hidden;
                    if (this.isVisible && !this.isPaused) {
                        this.startAutoPlay();
                    } else {
                        this.stopAutoPlay();
                    }
                });
            }
            
            goToSlide(slideIndex, isUserAction = false) {
                if (this.isTransitioning) return;
                
                // Normaliza o índice
                if (slideIndex < 0) slideIndex = this.totalSlides - 1;
                if (slideIndex >= this.totalSlides) slideIndex = 0;
                
                if (slideIndex === this.currentSlide) return;
                
                if (isUserAction) {
                    this.handleUserInteraction();
                }
                
                this.isTransitioning = true;
                this.currentSlide = slideIndex;
                
                const translateX = -(slideIndex * 16.666); // 100% / 6 slides = 16.666%
                this.track.style.transform = `translateX(${translateX}%)`;
                
                this.updateIndicators();
                
                // Reset transition flag
                setTimeout(() => {
                    this.isTransitioning = false;
                }, 500);
            }
            
            nextSlide() {
                this.goToSlide(this.currentSlide + 1, true);
            }
            
            previousSlide() {
                this.goToSlide(this.currentSlide - 1, true);
            }
            
            updateIndicators() {
                const indicators = this.indicatorsContainer.querySelectorAll('.carousel-indicator');
                indicators.forEach((indicator, index) => {
                    indicator.classList.toggle('active', index === this.currentSlide);
                });
            }
            
            handleUserInteraction() {
                this.isUserInteracting = true;
                this.stopAutoPlay();
                
                // Clear timeout anterior
                if (this.userInteractionTimeout) {
                    clearTimeout(this.userInteractionTimeout);
                }
                
                // Resume auto-play após 5 segundos de inatividade
                this.userInteractionTimeout = setTimeout(() => {
                    this.isUserInteracting = false;
                    if (this.isVisible && !this.isPaused) {
                        this.startAutoPlay();
                    }
                }, 5000);
            }
            
            startAutoPlay() {
                if (this.autoPlayInterval || this.isUserInteracting || this.isPaused || !this.isVisible) {
                    return;
                }
                
                this.autoPlayInterval = setInterval(() => {
                    if (!this.isUserInteracting && !this.isPaused && this.isVisible) {
                        this.goToSlide(this.currentSlide + 1);
                    }
                }, this.autoPlayDelay);
            }
            
            stopAutoPlay() {
                if (this.autoPlayInterval) {
                    clearInterval(this.autoPlayInterval);
                    this.autoPlayInterval = null;
                }
            }
            
            pauseAutoPlay() {
                this.isPaused = true;
                this.stopAutoPlay();
            }
            
            resumeAutoPlay() {
                this.isPaused = false;
                if (!this.isUserInteracting && this.isVisible) {
                    this.startAutoPlay();
                }
            }
            
            isInViewport() {
                const rect = this.track.getBoundingClientRect();
                return rect.top < window.innerHeight && rect.bottom > 0;
            }
            
            isMobile() {
                return window.innerWidth <= 768;
            }
        }
        
        // Inicializa o carrossel quando o DOM estiver pronto
        document.addEventListener('DOMContentLoaded', () => {
            new RobustCarousel();
        });
        
        // Preload de imagens críticas
        const criticalImages = [
            'https://i.ibb.co/1GSVPdc1/N-52.jpg',
            'https://i.ibb.co/S7Mt7QYb/OP-4.jpg',
            'https://i.ibb.co/tMcDwhdd/2.jpg'
        ];

        criticalImages.forEach(src => {
            const img = new Image();
            img.src = src;
        });
    </script>
</body>
</html>